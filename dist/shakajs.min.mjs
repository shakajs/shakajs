import*as e from"shaka-player/dist/shaka-player.ui.js";import{openBlock as t,createElementBlock as a,createElementVNode as r}from"vue";var o={name:"Shaka",props:{src:{type:String,required:!0},poster:{type:String,required:!1},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},abr:{type:Object,default:()=>({})},manifest:{type:Object,default:()=>({})},drm:{type:Object,default:()=>({})},streaming:{type:Object,default:()=>({})},ui:{type:Object,default:()=>({})}},mounted(){e.polyfill.installAll(),e.Player.isBrowserSupported()?this.initPlayer():console.error("Browser not supported!")},methods:{async initPlayer(){const t=new e.Player,a=new e.ui.Overlay(t,this.$refs.ShakaContainer,this.$refs.Shaka);this.configurePlayer(t),this.configureUI(a);try{await t.attach(this.$refs.Shaka),console.log("Player attached successfully!"),await t.load(this.src),console.log("The video has now been loaded!")}catch(e){this.onError(e)}},configurePlayer(e){const t={abr:this.abr,manifest:this.manifest,drm:this.drm,streaming:this.streaming};e.configure(t)},configureUI(e){const t={...this.ui};e.configure(t)},onError(e){console.error("Error code",e.code,"object",e)}}};const n={class:"shaka",ref:"ShakaContainer"},s=["autoplay","loop","muted","poster"];!function(e,t){void 0===t&&(t={});var a=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===a&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("\n@import '../../node_modules/shaka-player/dist/controls.css';\n:root {\r\n  --shaka-object-fit: contain;\r\n  --shaka-background-color: #000000;\r\n  --shaka-aspect-ratio: 16 / 9;\r\n  --shaka-width: 720px;\r\n  --shaka-height: unset;\n}\n.shaka {\r\n  width: var(--shaka-width) !important;\r\n  height: var(--shaka-height) !important;\r\n  aspect-ratio: var(--shaka-aspect-ratio) !important; \r\n  display: inline-flex;\r\n  overflow: hidden;\n}\n.shaka video {\r\n  object-fit: var(--shaka-object-fit);\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: var(--shaka-background-color);\n}\r\n"),o.render=function(e,o,i,l,d,h){return t(),a("div",n,[r("video",{id:"video",ref:"Shaka",preload:"auto",autoplay:i.autoplay,loop:i.loop,muted:i.muted,poster:i.poster},null,8,s)],512)},o.__file="src/components/Shaka.vue";export{o as Shaka};
